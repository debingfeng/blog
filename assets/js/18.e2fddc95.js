(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{256:function(t,e,r){"use strict";r.r(e);var a=r(0),i=Object(a.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),r("p"),t._m(1),r("p"),t._v(" "),t._m(2),t._v(" "),r("p",[t._v("随着业务量的增加，用到H5页面的越来越多；H5页面的性能怎么样？用户访问的体验怎么样？H5的出错率以及兼容性怎么样？目前来说，处于一个模糊状态，只能是通过公司测试的设备在不同的网络条件下体验一次，心里才有一个初步的印象。")]),t._v(" "),r("p",[t._v("没有一个数据系统支撑，仅仅凭内部人员测试和体验，这是远远不够的，我们之前在一些页面上加了百度统计做了一个初步的统计，就显示每天有数十万的访问量，而这是在一些个别页面测试得到的数据，不够精确。经过我们团队讨论决定要把H5性能监控系统做起来。")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),r("p",[r("a",{attrs:{href:"https://segmentfault.com/a/1190000004010453",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用性能API快速分析web前端性能"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"http://www.alloyteam.com/2015/09/explore-performance/",target:"_blank",rel:"noopener noreferrer"}},[t._v("初探 performance – 监控网页与程序性能"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"http://www.bubuko.com/infodetail-1228020.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用window.performance分析web前端性能"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming",target:"_blank",rel:"noopener noreferrer"}},[t._v("PerformanceTiming API参考文档"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming",target:"_blank",rel:"noopener noreferrer"}},[t._v("Using the Resource Timing API"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"http://javascript.ruanyifeng.com/bom/performance.html#toc5",target:"_blank",rel:"noopener noreferrer"}},[t._v("阮一峰 Performance API"),r("OutboundLink")],1)]),t._v(" "),t._m(15),t._v(" "),r("p",[t._v("通过APP大数据埋点接口数埋点和上报")]),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"h5性能与错误监控设计"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#h5性能与错误监控设计","aria-hidden":"true"}},[this._v("#")]),this._v(" H5性能与错误监控设计")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#背景"}},[t._v("背景")])]),r("li",[r("a",{attrs:{href:"#目的"}},[t._v("目的")])]),r("li",[r("a",{attrs:{href:"#采集数据"}},[t._v("采集数据")]),r("ul",[r("li",[r("a",{attrs:{href:"#性能数据"}},[t._v("性能数据")])]),r("li",[r("a",{attrs:{href:"#内存信息（performance-memory）"}},[t._v("内存信息（performance.memory）")])]),r("li",[r("a",{attrs:{href:"#错误数据"}},[t._v("错误数据")])])])]),r("li",[r("a",{attrs:{href:"#数据处理上报"}},[t._v("数据处理上报")])]),r("li",[r("a",{attrs:{href:"#大数据平台界面展示、数据分析与报警"}},[t._v("大数据平台界面展示、数据分析与报警")]),r("ul",[r("li",[r("a",{attrs:{href:"#界面展示"}},[t._v("界面展示")])]),r("li",[r("a",{attrs:{href:"#阀值报警-（待做）"}},[t._v("阀值报警 （待做）")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#背景","aria-hidden":"true"}},[this._v("#")]),this._v(" 背景")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"目的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目的","aria-hidden":"true"}},[this._v("#")]),this._v(" 目的")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("通过收集页面在用户设备的性能数据分析，可以方便知道页面在用户设备运行的性能情况，从而为开发人员提供选择合适的技术提供数据支撑。")])]),this._v(" "),e("li",[e("p",[this._v("通过错误监控与收集，降低用户遇到问题的概率，分析问题原因，减少问题重复出现概率，能够在用户碰到问题前发现并解决。")])]),this._v(" "),e("li",[e("p",[this._v("统计数据分析，根据数据分析做出相应的策略，从而选择合适的技术选型，从而提升页面性能和开发可维护性可扩展性")])]),this._v(" "),e("li",[e("p",[this._v("用户行为分析，给产品运营人员提供运营数据支持")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"采集数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#采集数据","aria-hidden":"true"}},[this._v("#")]),this._v(" 采集数据")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"性能数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#性能数据","aria-hidden":"true"}},[this._v("#")]),this._v(" 性能数据")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[t._v("wbTotal（webview加载H5页面时间）")]),t._v(" "),r("li",[t._v("wbInit（webview初始化时间）")]),t._v(" "),r("li",[t._v("wbResponse（webView初始化加载url到第一次webView start回调时间）")]),t._v(" "),r("li",[t._v("loadPageComplete（页面所有资源加载完成时间）")]),t._v(" "),r("li",[t._v("renderPage（用户基本可以看到基础页面的时间）")]),t._v(" "),r("li",[t._v("domReady（解析DOM树结构的时间），ttfb（用户拿到Html5页面第一个资源）")]),t._v(" "),r("li",[t._v("pageRequest（请求h5页面文档所需的时间）")]),t._v(" "),r("li",[t._v("ttfb（用户拿到Html5页面第一个资源）")]),t._v(" "),r("li",[t._v("netType(网络类型)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"内存信息（performance-memory）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内存信息（performance-memory）","aria-hidden":"true"}},[this._v("#")]),this._v(" 内存信息（performance.memory）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("jsHeapSizeLimit: 内存大小限制")])]),this._v(" "),e("li",[e("p",[this._v("totalJSHeapSize: 可使用的内存")])]),this._v(" "),e("li",[e("p",[this._v("usedJSHeapSize: JS对象(包括V8引擎内部对象)占用的内存，不能大于totalJSHeapSize，如果大于，有可能出现了内存泄漏")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"错误数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误数据","aria-hidden":"true"}},[this._v("#")]),this._v(" 错误数据")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"语法错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法错误","aria-hidden":"true"}},[this._v("#")]),this._v(" 语法错误")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("msg: 错误描述,")]),this._v(" "),e("li",[this._v("url: 错误页面地址,")]),this._v(" "),e("li",[this._v("line: 错误函数")]),this._v(" "),e("li",[this._v("语法错误")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"http请求错误（下个版本做）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http请求错误（下个版本做）","aria-hidden":"true"}},[this._v("#")]),this._v(" Http请求错误（下个版本做）")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("参考以下资料")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"数据处理上报"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据处理上报","aria-hidden":"true"}},[this._v("#")]),this._v(" 数据处理上报")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"大数据平台界面展示、数据分析与报警"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大数据平台界面展示、数据分析与报警","aria-hidden":"true"}},[this._v("#")]),this._v(" 大数据平台界面展示、数据分析与报警")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"界面展示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#界面展示","aria-hidden":"true"}},[this._v("#")]),this._v(" 界面展示")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("分两个维度统计")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_1、分别统计ios设备和安卓设备下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、分别统计ios设备和安卓设备下","aria-hidden":"true"}},[this._v("#")]),this._v(" 1、分别统计IOS设备和安卓设备下")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("每个页面各个阶段的近两周（这个时间可以讨论）的平均时间。包括\nwbTotal（webview加载H5页面时间），wbInit（webview初始化时间）loadPageComplete（页面所有资源加载完成时间），renderPage（用户基本可以看到基础页面的时间），domReady（解析DOM树结构的时间），ttfb（用户拿到Html5页面第一个资源），pageRequest（请求h5页面文档所需的时间）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"_2、统计在不同网络条件下，wifi条件下、4g和3g以下网络条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、统计在不同网络条件下，wifi条件下、4g和3g以下网络条件","aria-hidden":"true"}},[this._v("#")]),this._v(" 2、统计在不同网络条件下，wifi条件下、4G和3G以下网络条件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"阀值报警-（待做）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阀值报警-（待做）","aria-hidden":"true"}},[this._v("#")]),this._v(" 阀值报警 （待做）")])}],!1,null,null,null);e.default=i.exports}}]);